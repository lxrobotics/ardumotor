/**************************************************************************************
 * INCLUDES
 **************************************************************************************/

#include <Arduino.h>

#include <ros.h>

#include "HighpowerMotorshield.h"

/**************************************************************************************
 * GLOBAL CONSTANTS
 **************************************************************************************/

/**************************************************************************************
 * PROTOTYPES
 **************************************************************************************/

/**************************************************************************************
 * GLOBAL VARIABLES
 **************************************************************************************/

ros::NodeHandle node_handle;

/**************************************************************************************
 * ARDUINO FRAMEWORK FUNCTIONS
 **************************************************************************************/

void setup() 
{
  /* Setup the connection to the ROS */

  node_handle.getHardware()->setBaud(115200);
  node_handle.initNode();

  while(!node_handle.connected())
  {
    node_handle.spinOnce();
  }

  /* Initialize the motorshield library */

  HighpowerMotorshield::begin();
}

void loop() 
{
  node_handle.spinOnce();
}

/**************************************************************************************
 * OUR FUNCTIONS
 **************************************************************************************/

